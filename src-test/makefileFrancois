all:	../terminal ../execution

terminal:	terminal.o message.o logger.o alea.o terminal.c # terminal
	gcc terminal.o terminal.c -o ../Debug/terminal -D DEBUG

execution: execution.o message.o logger.o alea.o execution.c # execution
	gcc TestServers.c communication.o message.o alea.o logger.o -o ../Debug/TestServers -D DEBUG

# ici vont tous les sous-builds (par ordre alphabetique!)
alea.o: ../libbourse/alea.h ../libbourse/alea.c
	gcc -Wall -c ../libbourse/alea.c -D DEBUG

#communication.o: logger.o message.o ../libcomm/communication.h ../libcomm/communication.c
	gcc -c -Wall ../libcomm/communication.c -D DEBUG

logger.o: ../libcomm/logger.h ../libcomm/logger.c
	gcc -c -Wall ../libcomm/logger.c -D DEBUG
	
message.o: ../libcomm/message.h ../libcomm/message.c
	gcc -Wall -c ../libcomm/message.c -D DEBUG
	
#PrixAchatVente.o:	../libbourse/PrixAchatVente.c ../libbourse/PrixAchatVente.h
	gcc -c ../libbourse/PrixAchatVente.c -D DEBUG

# le clean est ICI
clean:
	rm -f ../bin/*.o
